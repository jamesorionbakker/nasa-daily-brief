(this["webpackJsonpnasa-app"]=this["webpackJsonpnasa-app"]||[]).push([[0],{128:function(t,e,a){},204:function(t,e,a){},207:function(t,e,a){},229:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(37),s=a.n(r),i=a(14),o=a(120),l=(a(128),a(123)),u=a(18),j=a.n(u),O=a(118),d=a(71),b=a(114),p=a.n(b),f=a(115),h=a.n(f),S=a(11),m=(a(204),a(7)),y=a.n(m),x=a(26),v=a(2),E=a(22),k=a(1);function g(t){var e=Object(S.b)(),a=t.date,n=Object(S.c)((function(t){return t.likes[a]}));return Object(k.jsx)("div",{className:"like-btn-container",children:Object(k.jsx)("button",{"aria-label":n?"un-like":"like",className:"like-button "+(n?"liked":"not-liked"),onClick:function(){var t;e(n?function(t){return function(){var e=Object(E.a)(y.a.mark((function e(a,n){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"LIKES/UNLIKE",payload:t}),c=n().likes,localStorage.setItem("likes",JSON.stringify(Object(v.a)(Object(v.a)({},c),{},Object(x.a)({},t,!1))));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}(a):(t=a,function(){var e=Object(E.a)(y.a.mark((function e(a,n){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:"LIKES/LIKE",payload:t}),c=n().likes,localStorage.setItem("likes",JSON.stringify(Object(v.a)(Object(v.a)({},c),{},Object(x.a)({},t,!0))));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))},children:Object(k.jsx)("i",{"aria-hidden":"true",title:n?"un-like this post":"like this post",className:"fas fa-heart"})})})}a(207);var T=a(117),D=a.n(T);function M(t){var e=t.post,a=Object(n.useState)(!1),c=Object(i.a)(a,2),r=c[0],s=c[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),u=l[0],b=l[1],f=function(){b(!u)};return Object(k.jsx)(h.a,{partialVisibility:!0,onChange:function(t){r||s(t)},children:Object(k.jsxs)("div",{className:"image-container",children:[Object(k.jsx)(g,{date:e.date}),Object(k.jsxs)(O.a,{children:[Object(k.jsxs)(d.a,{xs:12,md:4,className:"text-container",children:[Object(k.jsx)("h5",{children:Object(k.jsx)("em",{children:j()(e.date).format("MMMM DD, YYYY")})}),r&&!u&&Object(k.jsx)(p.a,{maxDelay:40,delayMap:[{at:/(\.)/,delay:300}],typing:1,fixed:!0,children:Object(k.jsxs)("span",{children:[D.a.truncate(e.explanation,{length:350,separator:" ",omission:" "}),Object(k.jsx)("button",{className:"link",onClick:f,href:"#",children:"...Read More"})]})}),r&&u&&Object(k.jsxs)("span",{children:[e.explanation," ",Object(k.jsx)("button",{className:"link",onClick:f,href:"#",children:"...Show Less"})]})]}),Object(k.jsxs)(d.a,{xs:12,md:8,children:[Object(k.jsx)("img",{style:{display:"inline"},src:e.thumbnail_url||e.url,alt:e.title}),Object(k.jsxs)("small",{children:["image copyright ".concat(e.copyright)," ",e.hdurl&&Object(k.jsx)("a",{href:e.hdurl,rel:"noreferrer",target:"_blank",children:"full size image"})]})]})]})]})})}var I=a(119),L=a.n(I);function N(t,e){return Y.apply(this,arguments)}function Y(){return(Y=Object(E.a)(y.a.mark((function t(e,a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.get(e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){var t=Object(S.b)(),e=Object(S.c)((function(t){return t.posts.data})),a=Object(S.c)((function(t){return t.posts.initialPostsLoaded})),c=Object(S.c)((function(t){return t.posts.loadingMore})),r=Object(n.useState)(j()()),s=Object(i.a)(r,2),u=s[0],O=s[1];return Object(n.useEffect)((function(){t(function(){var t=Object(E.a)(y.a.mark((function t(e,a){var n,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a().posts.startDate,t.next=3,N("/posts/?end_date=".concat(j()().format("YYYY-MM-DD"),"&start_date=").concat(n.format("YYYY-MM-DD")));case 3:c=t.sent,e({type:"POSTS/INSERT",payload:c}),e({type:"POSTS/SET_LOADED"});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),t(function(){var t=Object(E.a)(y.a.mark((function t(e,a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=JSON.parse(localStorage.getItem("likes")),console.log(n),e({type:"LIKES/SET",payload:n})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())}),[]),Object(n.useEffect)((function(){var t=setInterval((function(){O(j()())}),1e3);return function(){clearInterval(t)}})),Object(k.jsxs)(o.a,{fluid:!0,children:[Object(k.jsxs)("header",{children:[Object(k.jsx)("h1",{className:"title",children:"NASA DAILY BRIEF"}),Object(k.jsx)("h1",{className:"time",children:u.format("h:mm:ss")})]}),Object(k.jsxs)("main",{children:[!a&&Object(k.jsx)("i",{className:"fas fa-atom fa-spin loading-icon"}),a&&e.map((function(t){return Object(k.jsx)(M,{post:t},t.date)})),a&&Object(k.jsx)(l.a,{className:"load-more-button",onClick:function(){return t(function(){var t=Object(E.a)(y.a.mark((function t(e,a){var n,c,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a().posts.startDate.subtract(1,"day"),c=n.subtract(4,"day"),e({type:"POSTS/SET_LOADING_MORE"}),t.next=5,N("/posts/?end_date=".concat(n.format("YYYY-MM-DD"),"&start_date=").concat(c.format("YYYY-MM-DD")));case 5:r=t.sent,e({type:"POSTS/SET_START_DATE",payload:c}),e({type:"POSTS/INSERT",payload:r}),e({type:"POSTS/SET_MORE_LOADED"});case 9:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())},children:c?"Loading...":"Load More"})]}),a&&Object(k.jsx)("footer",{children:"Content Courtesy of NASA APOD API \u2022\xa0Copyright 2021 James Bakker"})]})}var w=a(29),A={};var P=a(72),R={startDate:j()().subtract(4,"day"),initialPostsLoaded:!1,loadingMore:!1,data:[]};var K=Object(w.combineReducers)({likes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LIKES/LIKE":return Object(v.a)(Object(v.a)({},t),{},Object(x.a)({},e.payload,!0));case"LIKES/UNLIKE":return Object(v.a)(Object(v.a)({},t),{},Object(x.a)({},e.payload,!1));case"LIKES/SET":return Object(v.a)({},e.payload);default:return Object(v.a)({},t)}},posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"POSTS/INSERT":return Object(v.a)(Object(v.a)({},t),{},{data:[].concat(Object(P.a)(t.data),Object(P.a)(e.payload))});case"POSTS/SET_LOADED":return Object(v.a)(Object(v.a)({},t),{},{initialPostsLoaded:!0});case"POSTS/SET_MORE_LOADED":return Object(v.a)(Object(v.a)({},t),{},{loadingMore:!1});case"POSTS/SET_LOADING_MORE":return Object(v.a)(Object(v.a)({},t),{},{loadingMore:!0});case"POSTS/SET_START_DATE":return Object(v.a)(Object(v.a)({},t),{},{startDate:e.payload});default:return Object(v.a)({},t)}}}),C=K,J=a(121),B=a(122),G=Object(w.compose)(Object(w.applyMiddleware)(J.a)),U=Object(w.createStore)(C,Object(B.composeWithDevTools)(G));s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(S.a,{store:U,children:Object(k.jsx)(_,{})})}),document.getElementById("root"))}},[[229,1,2]]]);
//# sourceMappingURL=main.736d0cf9.chunk.js.map